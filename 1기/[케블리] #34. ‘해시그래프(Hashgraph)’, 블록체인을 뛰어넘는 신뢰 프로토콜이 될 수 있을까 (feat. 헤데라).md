‘헤데라 해시그래프(Hedera Hashgraph)’가 지난달 3월 25일에 하나금융그룹 Club1 센터에서 밋업을 진행하면서, 국내에서도 해시그래프에 대한 관심이 일었는데요. ICO에 대한 구체적인 계획을 언급하지 않았음에도 불구하고 블록체인 업계가 들썩이고 있습니다. 4세대 블록체인을 표방하는 헤데라 해시그래프는 사실상 기술적으로 ‘블록체인’이 아닌, 이를 뛰어넘는 성능을 가진다는 ‘해시그래프’를 기반으로 하고 있어 그 귀추에 모두들 주목하고 있는 것 같습니다.

![](https://steemitimages.com/DQmRN4rCRAc5C7yF3hWuVySjEG5y19J61dQw5eAbTHNrRSX/image.png)


## 헤데라 해시그래프(Hedera Hashgraph)란?
---

**헤데라 해시그래프는 Swirlds사가 만든 해시그래프(Hashgraph) 기술에 기반한 암호화폐 플랫폼**입니다. 암호화폐가 블록체인의 주된 기반으로 활용되는 다른 일반적인 프로젝트들과 다르게, 헤데라의 암호화폐는 헤데라 플랫폼 위에서 부가적으로 운영되는 시스템이라고 볼 수 있습니다. 그 이유는 위에서 언급했듯이 **근본적으로 헤데라는 ‘블록체인이 아니기’ 때문입니다.**

지난번 케블리의 또다른 글에서 Security token과 비교하여 Utility token의 개념을 설명한 글이 있었죠. 일반적으로 대부분의 블록체인 상의 암호화폐는 Utility token의 형태로 gas비, 투표권, 노드간 합의 참여 등으로 사용됩니다. 하지만 헤데라의 암호화폐는 헤데라 플랫폼의 기술적 기반으로서 블록체인과 조금 다른 ‘해시그래프’를 사용하기 때문에 기술적 이론상으로는 수수료나 지분 보상, 거버넌스 참여 등에 사용되지 않습니다. 참고로 말씀드리면 헤데라의 거버넌스의 경우, 암호화폐 소유자가 아니라 헤데라가 위임한 기관이 가지게 됩니다.

**헤데라 플랫폼은 초기에 3가지의 서비스가 가능하다고 밝혔습니다.**

1) 소액결제를 지원하는 암호화폐
2) 앱이 사용하는 소량 스토리지 서비스
3) 스마트 컨트랙트 (이더리움의 Solidity를 지원)


![](https://steemitimages.com/DQmbGzj2LPLMZuzUQ9p8UrGwsYik2ENSZGeUpxstsrFxjUs/image.png)

즉, ‘해시그래프’ 합의 알고리즘을 기반으로 하여 그 위에서 암호화폐가 거래되게 하고 파일 저장이 가능하게 하며, Solidity를 지원하여 이더리움 스마트 컨트랙트를 구현할 수 있게끔 설계되었다고 정리해볼 수 있겠습니다.

>여기서 잠깐! 이더리움의 solidity란? 
솔리디티 도큐먼트 에 따르면 아래와 같이 설명되어 있습니다.

>Solidity is a contract-oriented, high-level language whose syntax is similar to that of JavaScript and it is designed to target the Ethereum Virtual Machine (EVM)
>쉽게 이야기 해서 Solidity는 이더리움이 만들어낸 가장 중요한 특징인 스마트 컨트랙트를 구현하기 위해 필요한 개발언어라고 할 수 있습니다.


다시 본론으로 돌아가자면, 헤데라 해시그래프는 지금까지 우선 기업용 플랫폼을 제공해왔으며, 파이널판타지의 제작사인 스퀘어 에닉스도 참여 중이고 홍콩의 유명 펀드에서도 헤데라 플랫폼을 이용한 ICO들을 지원한다고 합니다. 그리고 거버넌스를 이루는 '헤데라 해시그래프 카운실'에는 글로벌 탑클래스인 39개의 기업들이 참여합니다. 이 카운실에서는 네트워크의 포크(fork)가 구조상 일어날 수 없다고 합니다. 또한 모회사인 Swirlds는 헤데라 해시그래프를 임대해준 것으로 간주되어 수입의 10%를 가져가는 구조로 되어있습니다.

현재는 헤데라 플랫폼이 베타 버전으로 몇 개의 기업에서 사용되고 있는데, 4월 말이나 5월 초에 네트워크를 추가적인 고객들에게 오픈할 예정이라고 합니다.


![](https://steemitimages.com/DQmdsKeSoXsW4JoPdxFRnBCnWWpG3tafWUWH9j55x9ozg9T/image.png)



## 헤데라 해시그래프 암호화폐 이용방식
---

헤데라는 Functioning & Secure network 를 위해서 암호화폐가 필요하다고 역설하고 있습니다.

**1) 네트워크 보안** : 암호화폐가 가진 희소성을 이용하여 합의 프로세스에 대한 공격을 방지
**2) 플랫폼 사용 수수료** : 플랫폼 위에서 구현되는 앱들이 플랫폼의 api를 이용할 때마다 지불하는 수단

크게 이 두 가지의 이유로 암호화폐가 필요하다고 설명하는데, 일반적인 블록체인에서만큼 암호화폐가 절대적으로 시너지를 내는 수단이 될 수 있을지는 두고봐야할 것 같습니다.


## 그렇다면, 해시그래프(Hashgraph)란 무엇인가?
---

**배경**

헤데라 해시그래프의 공동대표인 Leemon Baird과 Mance Harmon은 절친한 친구 사이로, 2012년부터 비전을 공유해왔다고 합니다. 그 당시 텍사스의 단골 스타벅스에서 시간가는 줄 모르고 하루종일 ‘그 자체로 신뢰할 수 있는 사이버공간’을 어떻게 만들 수 있을지 함께 고민했다고 합니다. 즉, 중앙화된 기관에 사적인 데이터를 위임하지 않고서도 어떻게 하면 안전하게 가상에서 거래를 하고 일을 하고 자원을 공유할 수 있을지 말입니다. 그러다 결국 2015년 어느날, 인터넷에 신뢰를 불어넣을 수 있는 ‘해시그래프’라는 합의 알고리즘을 고안해낸 것입니다. 그 후 그들은 Swirlds. Inc. 를 설립하고 2016년 12월 11일에 해시그래프 백서 (whitepaper)를 대중에 공개했습니다.

**특징**

![](https://steemitimages.com/DQmXUcT2gNZDBAgxByiEzR22ge5j79VLmbxU1A3HVCVVAHS/image.png)

해시그래프는 블록체인 네트워크와는 조금 다른 형태의 분산원장 플랫폼입니다. ‘방향성 비사이클 그래프(DAG, Directed Acyclic Graph)’를 근간으로 하고 있다고 할 수 있습니다. DAG에서는 블록체인처럼 모든 노드들이 해당 블록을 동시에 차례로 검증할 필요가 없습니다. IOTA가 이런 방식의 분산원장 기술을 이용하고 있는데, 해시그래프의 경우는 DAG내에서 특히나 ‘비동기식 비잔틴 장애 허용(aBFT, Asynchronous Byzantine Fault Tolerance)’ 합의 알고리즘을 사용합니다.

해시그래프는 정보의 묶음을 블록이 아닌 ‘이벤트’라고 부릅니다. 또한 해시그래프는 강력한 합의를 도출하는 합의 알고리즘으로, 특정 채굴자가 거래순서를 조작할 수 없고 거래 중단이나 저지를 할 수 없습니다. 또한 거래 순서가 발생한 시점부터 수학적인 타임 스탬프로 공정성을 확보하며, 매초마다 완전한 합의가 이루어진다고 주장합니다. 모든 것을 기록하고 10분마다 블록을 체인에 추가하는 블록체인(비트코인)과 다르게, 해시그래프의 이벤트는 시스템에 바로 추가되기 때문에 10분 간의 정보를 담고 있지 않아도 됩니다. 작고 더 적은 데이터를 가지고 있고 대역폭이 아주 작아서 전달도 훨씬 쉽습니다. 또한 초당 수조번의 복잡한 수학문제를 풀지 않아도 되기 때문에 해시그래프는 극소량의 전력만 사용하면 됩니다. 그리고 비트코인의 60GB 저장공간에 비해 해시그래프는 1GB의 저장공간만으로도 사용이 가능하며 이는 일반 스마트폰에서도 구동이 가능하다고 이야기합니다.


해시그래프의 이러한 다양한 특성들로 인해, 아래의 부분들에서 블록체인에 비해 더 좋은 성능이 나타날 수 있다고 주장합니다.


-**SPEED**: **초당 250,000+ 트렉젝션** 처리  >> 오늘날의 블록체인이 가진 확장성 이슈(초당 5-7건 정도의 거래만 가능)를 해결
-**FAIR**: 수학적으로 증명된 공정성 (Consensus Time Stamping) 
-**SECURE**: 은행 급의 보안성 (비동기식 비잔틴 장애허용 aBFT)


**활용**

처음에는 해시그래프가 프라이빗하게 기업용으로만 적용되었는데, 현재는그 다음 단계로서 퍼블릭용 해시그래프 네트워크(앞에서 설명한 Hedera)를 구현해나가고 있습니다. 


## 다양하게 발전해온 합의 알고리즘
---

비트코인은 블록체인 기술로 만들어진 최초의 암호화폐이며  PoW를 기반으로 한 합의 알고리즘을 가지고 있습니다. 하지만 비트코인 채굴에는 엄청난 에너지가 소비되며 느리게 작동되도록 설계되어 있습니다. 따라서 이렇게 한계를 보이는 기존 합의 알고리즘을 보완하여 여러 가지의 합의 알고리즘들이 개발되어 왔습니다. 흔히 알려져 있는 암호화폐들은 특정한 합의 알고리즘을 기반으로 하여 트랜젝션들을 처리하고 블록체인을 구축하고 있습니다.

**비트코인- PoW(Proof of Work) 방식 사용**

블록생성 시간동안 채굴을 통해 가장 많은 해시파워를 제공한 노드가 블록을 생성할 수 있도록 설계

-장점: 채굴자들이 전기와 컴퓨터를 사용하여 안전하게 거래를 처리
-단점: 네트워크 상의 모든 노드들에게 전달될 때까지 기다려야 한다는 것
거래들이 동시에 처리됨
높은 전력 소모
가장 큰 채굴자가 해시 독점으로 블록체인 생태계를 해칠 수 있음

**이더리움- PoS(Proof of Stake) 방식을 사용 (Casper PoS로 발전)**

펀드를 블록체인 상에서 락을 걸어놓고, 블록을 예상하여 보상을 받는 구조

-장점: 개인이나 집단이 큰 힘을 가져도 블록체인 시스템을 착취하진 않을듯
-단점: 예측을 할 때 편법을 사용할 가능성이 있음

**EOS- DPos(Delegated Proof of Stake) 방식 사용**


이 모든 방식들은 결국 **기존 블록체인 프로토콜의 확장성을 높이기 위해서** 등장해온 것입니다. 어떤 합의 알고리즘을 사용하는지에 따라서 암호화폐의 성능, 보안성, 공정성 등이 모두 다르며 즉 스케일링 문제의 해결에 영향을 미치게 됩니다. 

일반적으로 블록체인은 빠르려면 공격이나 해킹에 취약하고, 덜 취약하면 규모가 커지면서 속도가 늦어지는 근본적인 문제가 있는데, **해시그래프는 ‘규모’와 ‘보안성’ 모두를 충족할 수 있는 해결책**이 될 수 있습니다.


## 해시그래프의 합의 알고리즘
---

해시그래프가 이런 다양한 합의 알고리즘에 비해 공정성, 보안성, 속도, 증명 등에서 우월할 수 있는 이유는 바로 ‘가십프로토콜’ 과 ‘가상투표’라는 해시그래프 알고리즘의 특성 때문입니다. 


**1) 가십프로토콜**

당신의 컴퓨터는 네트워크 상의 아무 컴퓨터에게 당신이 만든것에 대해서 말한다고 해봅시다. 그 컴퓨터는 들은 이벤트를 말함으로써 반응합니다. 그 컴퓨터는 또 다른 컴퓨터에게 당신이 말한 이벤트와 또다른 이벤트를 말합니다. 그 때 ‘누구에게서(노드)’ ‘언제(타임스템프)’ 들었는지에 대한 정보도 함께 전달합니다. 즉 ‘가십에 대한 가십’까지도 전달하는 것이죠. 모두가 언제 무엇을 알았는지 초단위로 전달하게 되는 것입니다. 즉, 해시그래프는 가십의 경로를 시간순서대로 나열한 것이라고 생각하면 됩니다.

>Leemon 인터뷰 내용 中

 >"내가 보낸 마지막 메시지의 이름을 알려줄게. 그리고 나에게 마지막 메시지를 보낸 마지막 사람을 알려줄게." 본질적으로, 나는 그 두 메시지의 해시(이름)을 보냅니다. 이렇게 1-2 바이트로 압축될 수 있는 두개의 해시만을 추가합니다. 따라서 우리는 상상할 수있는 대역폭을 가장 효율적으로 사용하여 세계에서 가장 빠른 방법으로 거래를 수행하고 있으며, 메시지 크기에 약 1 %가 추가될 것입니다. 많은 메시지를 받고 각각에 대한 두 해시만 얻으면, 큰 그래프가 형성되어 모든사람들이 어떻게 의사소통했는지 전체 기록을 볼 수 있습니다.


**2) 가상투표: 투표 없는 투표프로토콜**
 
두번째 특징은 가장 강력하고 안전하며 완전 합의를 이루는 투표프로토콜이라는 것입니다. 사실 투표를 제거한 투표 프로토콜이라고 합니다. 투표를 위한 비잔틴 알고리즘은 실제로 하기가 어렵습니다. 하지만 모든 메시지에 대해서 위에서 이야기한 두 개의 해시만 추가하면 이 각각의 메시지에 대한 전체기록이 해시그래프 메모리에 저장됩니다. 가십이 전파되는 동안에 각자의 노드들이 투표를 해서 어떤 정보가 맞는 정보이고 어떤 정보가 틀린 정보인지 예측한다면 맞다고 선별된 정보들은 진실에 가까운 정보가 됩니다.

기술적으로 아주 명확하게 이해가 되는 것은 아니지만, 이 해시그래프의 가상투표 프로토콜을 통해서 투표 알고리즘이 큰 규모에서도 빠르고 효과적으로 이루어질 수 있게 된다고 기억하면 될 것 같습니다.


## 해시그래프의 한계점
---

1) 해시그래프는 [아이오타의 탱글]( http://www.zdnet.co.kr/news/news_view.asp?artice_id=20171226145952)하고 비슷한 알고리즘으로서 현재까지 가장 진보된 분산원장 기술이라고 평가 받고 있지만, 한편으로는 오픈소스가 아니라는 점 때문에 탈중앙화와는 거리가 멀지 않느냐는 비판을 받고 있기도 합니다.
(특허를 받았다는 것에 대해서도 오히려 부정적으로 보는 시각이 있다고 하네요.)

2) 또한 근본적으로 확장성이라는 것이 일차원적인 접근으로는 해결불가능한데, 해시그래프는 트렌젝션 수에 대한 확장성만을 높인 프로토콜로 보여진다는 이야기가 있습니다. 즉 네트워크 노드의 수 등에 대한 확장성에 대해서는 해시그래프도 해결하지 못하고 있다는 것입니다.

3) 해시그래프가 지금처럼 프라이빗한 세팅 안에서는 빠르고 공정하고 안전하지만, 퍼블릭 세팅에서 사용된다면 해시그래프는 지금의 다른 퍼블릭 블록체인이 가지고 있는 안정성이나 성능 측면의 문제들을 똑같이 마주하게 될 것으로 보여집니다. 따라서 여전히 다른 퍼블릭 블록체인 프로젝트들처럼 실제 제품이나 서비스가 실현되기 전까지는 확신을 할 수 없다는 한계를 가집니다.


## 나가며
---

블록체인이 4차 산업혁명의 핵심으로 이야기되고 있는 지금, 암호화폐와 결합되어 더 큰 시너지를 내고 있지만 사실상 블록체인이 처음에 혁신으로 가져온 건 ‘합의 알고리즘’을 통한 거래의 신뢰성이었습니다. 이더리움이 확장성의 문제로 dapp들을 안착시키기가 어려운 시점에서 여러가지 새로운 대안들이 나오고 있는데, 해시그래프도 그저 one of them이 될지 아니면 정말 이 분야에 혁신을 일으킬 number one이 될지 궁금증이 더해갑니다.

해시그래프에 대해서 공부하면서 기술적인 부분에서도 많은 인사이트를 얻고 배울 수 있었지만, Leemon Baird과 Mance Harmon이 더 나은 세상을 만들기 위하여 몇 년간 ‘Trust layer for Internet’에 대해 함께 고민했던 그 과정과 스토리에 큰 영감을 받았습니다. 인터넷은 엄청난 혁신들을 몰고 왔지만 점차 부작용들이 고착화되고 있습니다. 하지만 모든 것엔 명암이 있기 마련이고, 부족한 부분을 개선시키기 위해 역시나 또 이렇게 뛰어난 이들이 도전하고 기술을 발전시켜 나가고 있다는 걸 느낄 수 있었습니다.

블록체인이라는 이름아래 또 새로운 혁명이 시작되고 있는 지금, 그 근간에 가장 중요한 요소인 ‘합의 알고리즘’의 다양한 발전을 앞으로도 계속 지켜보고자 합니다. 또한, 합의 알고리즘과 맞물려 암호화폐는 어떤 방향으로 발전해나갈까요? 여기까지 글을 읽어내려 오신 분들도 상상력을 발휘해보시면서 Leemon Baird과 Mance Harmon처럼 ‘더 나은 신뢰 프로토콜’을 위해 고민해보는 시간이 되었길 바랍니다. 



## Reference
---

- https://www.hederahashgraph.com/whitepaper
- https://www.swirlds.com/wp-content/uploads/2018/01/Swirlds_Overview_of_Hashgraph_technology_Korean_translation.pdf
- https://hackernoon.com/demystifying-hashgraph-benefits-and-challenges-d605e5c0cee5
- https://steemit.com/coinkorea/@cryptoneco/cryptotoon-by-vs
- https://www.youtube.com/watch?v=EHq9PQEmWKA
- https://www.youtube.com/watch?v=SuL4DN2dA4E
- https://steemit.com/hashgraph/@gossipguy/how-do-fees-work-on-hedera-hashgraph-paul-madsen-swirlds-inc
- https://steemit.com/kr/@kim066/consensus-algorithm
- https://www.blockmedia.co.kr/news/article_view/?idx=869&gCode=AB300
- https://m.blog.naver.com/ehdtmdcouple/221182264880
- https://steemit.com/coinkorea/@prosong77/hashgraph


#

![간새롬.png](https://steemitimages.com/DQmNXCo1T7RtswbxHLaUAjEXSVP7Kq1Va5bQEkbE1enmd2B/%EA%B0%84%EC%83%88%EB%A1%AC.png)